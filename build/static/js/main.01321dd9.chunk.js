(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,a,t){e.exports=t(197)},197:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),c=t(13),r=t.n(c),l=t(12),i=t(34),o=function(e){return s.a.createElement("div",{className:"columns is-centered"},s.a.createElement("div",{className:"column is-half"},e.children))},m=function(e){return s.a.createElement("div",{className:"columns is-centered"},s.a.createElement("div",{className:"column is-four-fifths"},e.children))},u=(t(43),t(20)),p=t(5),d=t.n(p),h=t(7),f=t.n(h),E=t(94),g=t.n(E),b=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var s=g.a.v4();n({type:"SET_ALERT",payload:{msg:e,alertType:a,id:s}}),setTimeout((function(){return n({type:"REMOVE_ALERT",payload:s})}),t)}},v=t(16),N=t.n(v),y=function(e){e?f.a.defaults.headers.common["x-auth-token"]=e:delete f.a.defaults.headers.common["x-auth-token"]},w=function(){return function(e){var a;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.token&&y(localStorage.token),t.prev=1,t.next=4,d.a.awrap(f.a.get("".concat("https://pet-sitter-app.herokuapp.com","/api/auth")));case 4:a=t.sent,e({type:"USER_LOADED",payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e({type:"AUTH_ERROR"});case 11:case"end":return t.stop()}}),null,null,[[1,8]])}},x=function(){return function(e){e({type:"LOGOUT"})}},j=Object(u.b)((function(e){return{auth:e.auth}}),{logout:x})((function(e){var a=e.auth,t=a.isAuthenticated,c=a.loading,r=e.logout,i=s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-full-mobile"},s.a.createElement("div",{className:"columns has-text-centered-mobile has-padding-bottom-50 has-padding-top-15"},s.a.createElement("a",{className:"column has-margin-left-30",href:"/"},s.a.createElement("img",{src:"../images/logoPetSitterApp.png",alt:"logo",width:"150px"})),s.a.createElement("div",null,s.a.createElement(l.b,{to:"/auth/overview",className:"button is-warning has-text-weight-bold has-margin-right-20 has-margin-left-5 mobile is-marginless-mobile is-size-7-mobile has-margin-top-5"},"Overview"),s.a.createElement(l.b,{to:"/auth/customers",className:"button is-primary has-text-weight-bold is-marginless-mobile has-margin-right-20 is-size-7-mobile has-margin-top-5"},"Customers"),s.a.createElement(l.b,{to:"/auth/addcustomer",className:"button is-info has-text-weight-bold has-margin-right-20 is-marginless-mobile is-size-7-mobile has-margin-top-5"},s.a.createElement("i",{className:"fa fa-plus has-margin-right-5"})," Customer"),s.a.createElement("a",{className:"button is-link has-text-weight-bold has-margin-right-40 has-margin-right-5-mobile is-marginless-mobile is-size-7-mobile has-margin-top-5",onClick:r,href:"/"},s.a.createElement("i",{className:"fas fa-sign-out-alt"}),s.a.createElement("span",{className:"has-text-weight-bold is-hidden-mobile"},"Logout")))))),o=s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-full-mobile"},s.a.createElement("div",{className:"columns has-text-centered-mobile has-padding-bottom-50 has-padding-top-15"},s.a.createElement("a",{className:"column has-margin-left-30 is-marginless-mobile",href:"/"},s.a.createElement("img",{src:"../images/logoPetSitterApp.png",alt:"logo",width:"150px"})),s.a.createElement("div",null,s.a.createElement(l.b,{to:"/signup",className:"button is-primary has-text-weight-bold has-margin-right-20 is-size-7-mobile has-margin-top-5 has-margin-left-60-mobile"},"Sign up"),s.a.createElement(l.b,{to:"/login",className:"button is-info has-text-weight-bold has-margin-right-40 has-margin-right-30-mobile is-size-7-mobile has-margin-top-5"},"Log in")))));return s.a.createElement("div",null,!c&&s.a.createElement(n.Fragment,null,t?i:o))})),O=t(58),k=t(11),C=t(75),S=t(33),D=t.n(S),A=(t(138),Object(C.b)(D.a));var T=Object(i.g)((function(e){var a=Object(n.useState)([{start:"",end:"",title:"",allDay:!0,paid:""}]),t=Object(k.a)(a,2),c=t[0],r=t[1];console.log("history ",e.history),Object(n.useEffect)((function(){l()}),[]);var l=function(){var a,t,n,s;return d.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(a="",!e.id){l.next=10;break}return console.log("props id is: ",e.id),l.next=5,d.a.awrap(f.a.get("".concat("https://pet-sitter-app.herokuapp.com","/api/jobs/fromcustomer/").concat(e.id)));case 5:t=l.sent,a=t.data,console.log(t),l.next=14;break;case 10:return l.next=12,d.a.awrap(f.a.get("".concat("https://pet-sitter-app.herokuapp.com","/api/jobs/")));case 12:n=l.sent,a=n.data;case 14:if(s=Object(O.a)(c),0!==Object.keys(a).length){l.next=19;break}return l.abrupt("return");case 19:a.forEach((function(e){e.customer?s.push({start:new Date(D()(e.startdate)),end:new Date(D()(e.enddate).add(1,"days")),title:"".concat(e.customer.name),allDay:!0,paid:e.paid,customer:e.customer}):s.push({start:new Date(D()(e.startdate)),end:new Date(D()(e.enddate).add(1,"days")),title:"Customer not in DB",allDay:!0,paid:e.paid,customer:""})}));case 20:r(s);case 21:case"end":return l.stop()}}))};return s.a.createElement("div",{className:"columns is-centered"},s.a.createElement("div",{className:"column"},s.a.createElement(C.a,{onSelectEvent:function(a){console.log(e.history),e.history.push("/auth/customers/".concat(a.customer._id))},localizer:A,defaultDate:new Date,defaultView:"month",events:c,style:{height:"80vh"},eventPropGetter:function(e){var a={backgroundColor:"#2692D9",color:"white",borderRadius:"0px",border:"none"};return e.paid&&(a.backgroundColor="#02C4A7"),{className:"",style:a}}})))})),_=Object(u.b)((function(e){return{auth:e.auth}}),{logout:x})((function(e,a){var t=e.auth,c=t.isAuthenticated,r=t.loading,l=s.a.createElement(n.Fragment,null,s.a.createElement(m,null,s.a.createElement(T,null))),i=s.a.createElement(n.Fragment,null,s.a.createElement(o,null,s.a.createElement("img",{src:"../images/cat13.png",alt:"cat"})));return s.a.createElement("div",null,!r&&s.a.createElement(n.Fragment,null,c?l:i))})),M=t(19),Y=t(9),R=function(e){return s.a.createElement("div",{className:"columns is-centered"},s.a.createElement("div",{className:"column is-half is-full-mobile"},e.children))},L=Object(u.b)((function(e){return{alerts:e.alert}}))((function(e){var a=e.alerts;return null!==a&&a.length>0&&a.map((function(e){return s.a.createElement("div",{key:e.id,className:"notification is-".concat(e.alertType)},e.msg)}))})),U=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{setAlert:b,register:function(e){var a=e.name,t=e.email,n=e.password;return function(e){var s,c,r,l;return d.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return s={headers:{"Content-Type":"application/x-www-form-urlencoded"}},c=N.a.stringify({name:a,email:t,password:n}),i.prev=2,i.next=5,d.a.awrap(f.a.post("".concat("https://pet-sitter-app.herokuapp.com","/api/users"),c,s));case 5:r=i.sent,e({type:"REGISTER_SUCCESS",payload:r.data}),e(w()),i.next=15;break;case 10:i.prev=10,i.t0=i.catch(2),(l=i.t0.response.data.errors)&&l.forEach((function(a){return e(b(a.msg,"danger"))})),e({type:"REGISTER_FAIL"});case 15:case"end":return i.stop()}}),null,null,[[2,10]])}}})((function(e){var a=e.setAlert,t=e.register,c=e.isAuthenticated,r=Object(n.useState)({name:"",email:"",password:"",password2:""}),o=Object(k.a)(r,2),m=o[0],u=o[1],p=m.name,h=m.email,f=m.password,E=m.password2,g=function(e){return u(Object(Y.a)({},m,Object(M.a)({},e.target.name,e.target.value)))};return c?s.a.createElement(i.a,{to:"/"}):s.a.createElement(R,null,s.a.createElement("div",{className:"box columns is-centered"},s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"has-padding-bottom-20"},s.a.createElement(L,null)),s.a.createElement("h1",{className:"is-size-3 has-padding-bottom-10"},"Create new account"),s.a.createElement("form",{onSubmit:function(e){return function(e){return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),f!==E?a("Passwords do not match","danger"):t({name:p,email:h,password:f});case 2:case"end":return n.stop()}}))}(e)}},s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"text",placeholder:"Name",name:"name",value:p,onChange:function(e){return g(e)}}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-user"})),s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement("i",{className:"fas fa-check"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"email",placeholder:"e-mail",name:"email",value:h,onChange:function(e){return g(e)}}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-envelope"})),s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement("i",{className:"fas fa-check"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"password",placeholder:"Password",name:"password",value:f,onChange:g}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-lock"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"password",placeholder:"Confirm password",name:"password2",value:E,onChange:function(e){return g(e)}}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-lock"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control"},s.a.createElement("input",{type:"submit",className:"button is-link",value:"Sign up"}))),s.a.createElement("p",null,"Already have an account? ",s.a.createElement(l.b,{to:"/login"},"Log in"))))),s.a.createElement("div",{className:"has-margin-bottom-20"},s.a.createElement("img",{src:"/images/ekg-dog.png",alt:"dog"})))})),P=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,a){return function(t){var n,s,c,r;return d.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n={headers:{"Content-Type":"application/x-www-form-urlencoded"}},s=N.a.stringify({email:e,password:a}),l.prev=2,l.next=5,d.a.awrap(f.a.post("".concat("https://pet-sitter-app.herokuapp.com","/api/auth"),s,n));case 5:c=l.sent,t({type:"LOGIN_SUCCESS",payload:c.data}),t(w()),l.next=15;break;case 10:l.prev=10,l.t0=l.catch(2),(r=l.t0.response.data.errors)&&r.forEach((function(e){return t(b(e.msg,"danger"))})),t({type:"LOGIN_FAIL"});case 15:case"end":return l.stop()}}),null,null,[[2,10]])}}})((function(e){var a=e.login,t=e.isAuthenticated,c=Object(n.useState)({email:"",password:""}),r=Object(k.a)(c,2),o=r[0],m=r[1],u=o.email,p=o.password,h=function(e){return m(Object(Y.a)({},o,Object(M.a)({},e.target.name,e.target.value)))};return t?s.a.createElement(i.a,{to:"/"}):s.a.createElement(R,null,s.a.createElement("div",{className:"box columns is-centered"},s.a.createElement("div",{className:"column is-8"},s.a.createElement("div",{className:"has-padding-bottom-20"},s.a.createElement(L,null)),s.a.createElement("h1",{className:"is-size-3 has-padding-bottom-10"},"Log in"),s.a.createElement("form",{onSubmit:function(e){return function(e){return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),a(u,p);case 2:case"end":return t.stop()}}))}(e)}},s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"email",placeholder:"e-mail",name:"email",value:u,onChange:function(e){return h(e)}}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-envelope"})),s.a.createElement("span",{className:"icon is-small is-right"},s.a.createElement("i",{className:"fas fa-check"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"password",placeholder:"Password",name:"password",value:p,minLength:"8",onChange:function(e){return h(e)}}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-lock"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control"},s.a.createElement("input",{type:"submit",className:"button is-link",value:"Login"}))),s.a.createElement("p",null,"Don't have an account? ",s.a.createElement(l.b,{to:"/signup"},"Sign Up")))),s.a.createElement("div",{className:"column is-4 has-margin-top-15"},s.a.createElement("img",{src:"/images/cat10.png",alt:"cat"}))))})),z=function(e){var a=Object(n.useState)({name:"",address:"",phone:"",priceperday:""}),t=Object(k.a)(a,2),c=t[0],r=t[1],l=c.name,i=c.address,o=c.phone,m=c.priceperday,u=function(e){return r(Object(Y.a)({},c,Object(M.a)({},e.target.name,e.target.value)))};return s.a.createElement(R,null,s.a.createElement("div",{className:"box columns is-centered"},s.a.createElement("div",{className:"column is-8"},s.a.createElement("h1",{className:"is-size-3"},"Add a Customer"),s.a.createElement("form",{onSubmit:function(a){return function(a){var t,n,s,c;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a.preventDefault(),t={name:l,address:i,phone:o,priceperday:m},r.prev=2,n={headers:{"Content-Type":"application/x-www-form-urlencoded"}},s=N.a.stringify(t),r.next=7,d.a.awrap(f.a.post("".concat("https://pet-sitter-app.herokuapp.com","/api/customers"),s,n));case 7:c=r.sent,console.log(c.data._id),e.history.push("/auth/addpet",{id:c.data._id}),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(2),console.log(r.t0.response.data);case 15:case"end":return r.stop()}}),null,null,[[2,12]])}(a)}},s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"text",placeholder:"Name",name:"name",value:l,onChange:function(e){return u(e)},required:!0}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-user"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"text",placeholder:"Address",name:"address",value:i,onChange:function(e){return u(e)},required:!0}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-home"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"text",placeholder:"Phone Number",name:"phone",value:o,onChange:function(e){return u(e)}}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-mobile-alt"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"text",placeholder:"Price per day",name:"priceperday",value:m,onChange:function(e){return u(e)}}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-euro-sign"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control"},s.a.createElement("input",{type:"submit",className:"button is-info",value:"Add Customer"}))))),s.a.createElement("div",{className:"column is-4"},s.a.createElement("img",{src:"/images/owner.png",width:"90%",alt:""}))))},F=function(e){var a=Object(n.useState)({customerid:e.location.state.id,type:"",name:"",comments:""}),t=Object(k.a)(a,2),c=t[0],r=t[1],l=c.type,i=c.name,o=c.comments,m=c.customerid,u=function(e){r(Object(Y.a)({},c,Object(M.a)({},e.target.name,e.target.value))),console.log(c.customerid)};return s.a.createElement(R,null,s.a.createElement("div",{className:"box columns is-centered"},s.a.createElement("div",{className:"column is-4 has-margin-top-15 is-hidden-mobile"},s.a.createElement("img",{src:"/images/cat3.png",alt:"cat"})),s.a.createElement("div",{className:"column is-8"},s.a.createElement("div",{className:"box columns is-centered"},s.a.createElement("div",{className:"column has-padding-bottom-20"},s.a.createElement("h1",{className:"is-size-3"},"Add a Pet"),s.a.createElement("form",{onSubmit:function(a){return function(a){var t,n,s,c;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a.preventDefault(),t={customerid:m,type:l,name:i,comments:o},r.prev=2,n={headers:{"Content-Type":"application/x-www-form-urlencoded"}},s=N.a.stringify(t),r.next=7,d.a.awrap(f.a.post("".concat("https://pet-sitter-app.herokuapp.com","/api/pets"),s,n));case 7:c=r.sent,console.log(c.data),e.history.push("/auth/customers/".concat(e.location.state.id)),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(2),console.log(r.t0.response.data);case 15:case"end":return r.stop()}}),null,null,[[2,12]])}(a)}},s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"text",placeholder:"Type of Pet",name:"type",value:l,onChange:function(e){return u(e)},required:!0}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-user"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"text",placeholder:"Name",name:"name",value:i,onChange:function(e){return u(e)},required:!0}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-home"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"textarea",placeholder:"Comments",name:"comments",value:o,onChange:function(e){return u(e)}}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-mobile-alt"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control"},s.a.createElement("input",{type:"submit",className:"button is-info",value:"Add Pet"}))))))),s.a.createElement("div",{className:"column is-4 has-margin-top-15 is-hidden-desktop"},s.a.createElement("img",{src:"/images/cat3.png",alt:"cat"}))))},I=function(e){Object(n.useEffect)((function(){l()}),[0]);var a=Object(n.useState)({customerid:"",type:"",name:"",comments:""}),t=Object(k.a)(a,2),c=t[0],r=t[1],l=function(){var a,t;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(f.a.get("".concat("https://pet-sitter-app.herokuapp.com","/api/pets/").concat(e.match.params.id)));case 2:a=n.sent,t=a.data,r({customerid:t.customerid,type:t.type,name:t.name,comments:t.comments});case 5:case"end":return n.stop()}}))},i=c.type,o=c.name,m=c.comments,u=c.customerid,p=function(e){r(Object(Y.a)({},c,Object(M.a)({},e.target.name,e.target.value)))};return s.a.createElement(R,null,s.a.createElement("div",{className:"box columns is-centered"},s.a.createElement("div",{className:"column has-padding-bottom-20"},s.a.createElement("h1",{className:"is-size-3"},"Edit Pet"),s.a.createElement("form",{onSubmit:function(a){return function(a){var t,n,s;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a.preventDefault(),t={customerid:u,type:i,name:o,comments:m},r.prev=2,n={headers:{"Content-Type":"application/x-www-form-urlencoded"}},s=N.a.stringify(t),r.next=7,d.a.awrap(f.a.put("".concat("https://pet-sitter-app.herokuapp.com","/api/pets/").concat(e.match.params.id),s,n));case 7:r.sent,e.history.push("/auth/customers/".concat(c.customerid)),r.next=13;break;case 11:r.prev=11,r.t0=r.catch(2);case 13:case"end":return r.stop()}}),null,null,[[2,11]])}(a)}},s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"text",placeholder:"Type of Pet",name:"type",value:i,onChange:function(e){return p(e)},required:!0}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-user"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"text",placeholder:"Name",name:"name",value:o,onChange:function(e){return p(e)},required:!0}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-home"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"textarea",placeholder:"Comments",name:"comments",value:m,onChange:function(e){return p(e)}}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-mobile-alt"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control"},s.a.createElement("input",{type:"submit",className:"button is-info",value:"Udapte"})))))))},G=function(){Object(n.useEffect)((function(){r()}),[0]);var e=Object(n.useState)({}),a=Object(k.a)(e,2),t=a[0],c=a[1],r=function(){var e,a,t,n,s,r,l,i;return d.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,d.a.awrap(f.a.get("".concat("https://pet-sitter-app.herokuapp.com","/api/yearlytotal/2020")));case 2:return e=o.sent,a=e.data,console.log(a.data),o.next=7,d.a.awrap(f.a.get("".concat("https://pet-sitter-app.herokuapp.com","/api/yearlytotal/2019")));case 7:return t=o.sent,n=t.data,console.log(n.data),o.next=12,d.a.awrap(f.a.get("".concat("https://pet-sitter-app.herokuapp.com","/api/yearlytotal/2018")));case 12:return s=o.sent,r=s.data,console.log(r.data),o.next=17,d.a.awrap(f.a.get("".concat("https://pet-sitter-app.herokuapp.com","/api/yearlytotal/2017")));case 17:l=o.sent,i=l.data,console.log(i.data),c({year2020:a,year2019:n,year2018:r,year2017:i});case 21:case"end":return o.stop()}}))},l=function(e){console.log("year array: ",e);var a=0;return e.forEach((function(e){return a+=e.totalprice})),a};return 0===Object.keys(t).length?s.a.createElement("div",null):s.a.createElement(R,null,s.a.createElement("div",{className:"columns box is-multiline has-text-centered"},s.a.createElement("p",{className:"column is-full"},s.a.createElement("span",{className:"has-text-weight-semibold has-text-link"},"Total summary:"," "),l(t.year2020)+l(t.year2019)," ","\u20ac"),s.a.createElement("p",{className:"column is-full"},s.a.createElement("span",{className:"has-text-weight-semibold has-text-primary"},"2020:"," "),l(t.year2020)," \u20ac"),s.a.createElement("p",{className:"column is-full"},s.a.createElement("span",{className:"has-text-weight-semibold has-text-primary"},"2019:"," "),l(t.year2019)," \u20ac"),s.a.createElement("p",{className:"column is-full"},s.a.createElement("span",{className:"has-text-weight-semibold has-text-primary"},"2018:"," "),l(t.year2018)," \u20ac"),s.a.createElement("p",{className:"column is-full"},s.a.createElement("span",{className:"has-text-weight-semibold has-text-primary"},"2017:"," "),l(t.year2017)," \u20ac")))},q=t(32),B=t(97),J=t(98),H=[],V={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},W=Object(q.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"SET_ALERT":return[].concat(Object(O.a)(e),[n]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==n}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"USER_LOADED":return Object(Y.a)({},e,{isAuthenticated:!0,loading:!1,user:n});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",n.token),Object(Y.a)({},e,{},n,{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":return localStorage.removeItem("token"),Object(Y.a)({},e,{token:null,isAuthenticated:!1,loading:!1});default:return e}}}),K=[J.a],Q=Object(q.createStore)(W,{},Object(B.composeWithDevTools)(q.applyMiddleware.apply(void 0,K))),X=function(e){var a=e.name,t=e.address,n=e.phone,c=e.priceperday,r=e.id;return s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-8 is-offset-2"},s.a.createElement(l.b,{to:"/auth/customers/".concat(r)},s.a.createElement("div",{className:"columns box has-margin-bottom-5"},s.a.createElement("p",{className:"column is-one-fifth has-text-weight-semibold has-text-primary has-margin-right-20"},a),s.a.createElement("p",{className:"column is-two-fifths has-margin-right-20"},s.a.createElement("i",{className:"fas fa-home"})," ",t),s.a.createElement("p",{className:"column is-one-fifth has-margin-right-20"},s.a.createElement("i",{className:"fas fa-mobile-alt"})," ",n),s.a.createElement("p",{className:"column is-one-fifth has-margin-right-20 has-text-weight-bold"},c," ",s.a.createElement("i",{className:"fas fa-euro-sign"}))))))};var Z=function(){Object(n.useEffect)((function(){r()}),[]);var e=Object(n.useState)([]),a=Object(k.a)(e,2),t=a[0],c=a[1],r=function(){var e,a;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(f.a.get("".concat("https://pet-sitter-app.herokuapp.com","/api/customers")));case 2:e=t.sent,a=e.data,c(a);case 5:case"end":return t.stop()}}))};return s.a.createElement(n.Fragment,null,t.map((function(e){return s.a.createElement(X,{name:e.name,address:e.address,phone:e.phone,priceperday:e.priceperday,id:e._id,key:e._id})})))},$=function(e,a){var t=e.name,n=e.address,c=e.phone,r=e.priceperday,i=e.id;return s.a.createElement("div",null,s.a.createElement("div",{className:"columns box has-margin-bottom-40"},s.a.createElement("p",{className:"column is-one-fifth has-text-weight-semibold has-text-primary has-margin-right-20"},t),s.a.createElement("p",{className:"column is-two-fifths has-margin-right-20"},s.a.createElement("i",{className:"fas fa-home"})," ",n),s.a.createElement("p",{className:"column is-one-fifth has-margin-right-20"},s.a.createElement("i",{className:"fas fa-mobile-alt"})," ",c),s.a.createElement("p",{className:"column is-one-fifth has-margin-right-20 has-text-weight-bold"},r," ",s.a.createElement("i",{className:"fas fa-euro-sign"}))),s.a.createElement("div",{className:"columns"},s.a.createElement(l.b,{to:"/auth/customers/edit/".concat(i),className:"button is-info has-text-weight-semibold is-overlay has-margin-bottom-15 has-margin-right-30 is-fullwidth"},"Edit customer"),s.a.createElement(l.b,{onClick:function(){return f.a.delete("".concat("https://pet-sitter-app.herokuapp.com","/api/customers/").concat(i)).then((function(){return window.location.reload()})).catch((function(e){return console.log(e)}))},to:"/auth/customers",className:"button is-danger has-text-weight-semibold has-margin-bottom-10 is-fullwidth"},"Delete customer")))},ee=function(e){var a=e.name,t=e.type,n=e.comments,c=e.petid,r=e.customerid;return s.a.createElement("div",{className:"columns box has-margin-bottom-40"},s.a.createElement("p",{className:"column is-one-fifth has-text-weight-semibold has-text-primary has-margin-right-20"},a),s.a.createElement("p",{className:"column is-one-fifth has-margin-right-20"},t),s.a.createElement("div",{className:"column is-two-fifths has-margin-right-20"},s.a.createElement("p",{className:"has-text-weight-semibold"},"Comments:"),s.a.createElement("p",null,n)),s.a.createElement("div",{className:"column is-one-fifth is-multiline"},s.a.createElement(l.b,{to:"/auth/pet/edit/".concat(c),className:"button is-info has-text-weight-semibold has-margin-bottom-15 has-margin-right-100-desktop buttonwidth "},"Edit"),s.a.createElement(l.b,{onClick:function(){return f.a.delete("".concat("https://pet-sitter-app.herokuapp.com","/api/pets/").concat(c)).then((function(){return window.location.reload()})).catch((function(e){return console.log(e)}))},to:"/auth/customers/".concat(r),className:"button is-danger has-text-weight-semibold has-margin-bottom-10 buttonwidth"},"Delete")))},ae=function(e){var a=Object(n.useState)({jobid:e.jobid,startdate:e.startdate,enddate:e.enddate,numberofdays:e.numberofdays,totalprice:e.totalprice,priceperday:e.priceperday,paid:e.paid,archived:e.archived,description:e.description,forceUpdate:e.forceUpdate}),t=Object(k.a)(a,2),c=t[0],r=(t[1],function(){var a,t,n;return d.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return a=Object(Y.a)({},c,{archived:!0}),s.prev=1,t={headers:{"Content-Type":"application/x-www-form-urlencoded"}},n=N.a.stringify(a),s.next=6,d.a.awrap(f.a.put("".concat("https://pet-sitter-app.herokuapp.com","/api/jobs/").concat(c.jobid),n,t));case 6:e.forceUpdate(),s.next=11;break;case 9:s.prev=9,s.t0=s.catch(1);case 11:case"end":return s.stop()}}),null,null,[[1,9]])}),i=function(a){var t,n,s;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=Object(Y.a)({},c,{paid:a.target.value}),r.prev=1,n={headers:{"Content-Type":"application/x-www-form-urlencoded"}},s=N.a.stringify(t),r.next=6,d.a.awrap(f.a.put("".concat("https://pet-sitter-app.herokuapp.com","/api/jobs/").concat(c.jobid),s,n));case 6:e.forceUpdate(),r.next=11;break;case 9:r.prev=9,r.t0=r.catch(1);case 11:case"end":return r.stop()}}),null,null,[[1,9]])},o=function(){return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.awrap(f.a.delete("".concat("https://pet-sitter-app.herokuapp.com","/api/jobs/").concat(c.jobid)));case 2:e.forceUpdate();case 3:case"end":return a.stop()}}))};return e.archived?s.a.createElement("div",null):e.paid?s.a.createElement("div",{className:"column is-full"},s.a.createElement("div",{key:c.jobid,className:"columns box is-full has-margin-bottom-20"},s.a.createElement("div",{className:"column is-2"},s.a.createElement("p",{className:"has-text-weight-semibold"},"Start:"),s.a.createElement("p",{className:"has-text-weight-semibold has-text-primary"},c.startdate)),s.a.createElement("div",{className:"column is-2"},s.a.createElement("p",{className:"has-text-weight-semibold"},"End:"),s.a.createElement("p",{className:"has-text-weight-semibold has-text-primary"},c.enddate)),s.a.createElement("div",{className:"column is-1 has-text-weight-semibold"},s.a.createElement("p",null,"Days:"),s.a.createElement("p",null,c.numberofdays)),s.a.createElement("div",{className:"column is-1 has-text-weight-semibold"},s.a.createElement("p",null,"Total:"),s.a.createElement("p",null,c.totalprice," \u20ac")),s.a.createElement("div",{className:"column field is-2 has-text-weight-semibold "},s.a.createElement("p",null,"Paid:"),s.a.createElement("p",{className:"control"},s.a.createElement("span",{className:"select"},s.a.createElement("select",{onChange:i},s.a.createElement("option",{value:!1},"no"),s.a.createElement("option",{selected:!0,value:!0},"yes"))))),s.a.createElement("div",{className:"column is-3 has-margin-left-20"},s.a.createElement("p",{className:"has-text-weight-semibold"},"Comments:"),s.a.createElement("p",null,c.description))),s.a.createElement("div",{className:"columns has-margin-bottom-60 has-margin-top-20"},s.a.createElement(l.b,{to:"/auth/editjob/".concat(c.jobid),className:"button is-info has-text-weight-semibold has-margin-right-30 is-fullwidth has-margin-bottom-10"},"Edit"),s.a.createElement("div",{onClick:o,className:"button is-danger has-text-weight-semibold has-margin-right-30 is-fullwidth has-margin-bottom-10"},"Delete"),s.a.createElement("div",{onClick:r,className:"button is-warning has-text-weight-semibold is-fullwidth has-margin-bottom-15"},"Archive"))):s.a.createElement("div",{className:"column is-full"},s.a.createElement("div",{key:c.jobid,className:"columns box has-margin-bottom-20"},s.a.createElement("div",{className:"column is-2"},s.a.createElement("p",{className:"has-text-weight-semibold"},"Start:"),s.a.createElement("p",{className:"has-text-weight-semibold has-text-primary"},c.startdate)),s.a.createElement("div",{className:"column is-2"},s.a.createElement("p",{className:"has-text-weight-semibold"},"End:"),s.a.createElement("p",{className:"has-text-weight-semibold has-text-primary"},c.enddate)),s.a.createElement("div",{className:"column is-1 has-text-weight-semibold"},s.a.createElement("p",null,"Days:"),s.a.createElement("p",null,c.numberofdays)),s.a.createElement("div",{className:"column is-1 has-text-weight-semibold"},s.a.createElement("p",null,"Total:"),s.a.createElement("p",null,c.totalprice," \u20ac")),s.a.createElement("div",{className:"column field is-2 has-text-weight-semibold "},s.a.createElement("p",null,"Paid:"),s.a.createElement("p",{className:"control"},s.a.createElement("span",{className:"select"},s.a.createElement("select",{onChange:i},s.a.createElement("option",{selected:!0,value:!1},"no"),s.a.createElement("option",{value:!0},"yes"))))),s.a.createElement("div",{className:"column is-3 has-margin-left-20-desktop"},s.a.createElement("p",{className:"has-text-weight-semibold"},"Comments:"),s.a.createElement("p",null,c.description))),s.a.createElement("div",{className:"columns has-margin-bottom-60 has-margin-top-20"},s.a.createElement(l.b,{to:"/auth/editjob/".concat(c.jobid),className:"button is-info has-text-weight-semibold has-margin-right-30 is-fullwidth has-margin-bottom-10"},"Edit"),s.a.createElement("div",{onClick:o,className:"button is-danger has-text-weight-semibold has-margin-right-30 is-fullwidth has-margin-bottom-10"},"Delete"),s.a.createElement("div",{onClick:r,className:"button is-warning has-text-weight-semibold is-fullwidth has-margin-bottom-15"},"Archive")))},te=function(e){var a=e.jobid,t=e.startdate,c=e.enddate,r=e.numberofdays,l=e.totalprice,i=e.priceperday,o=e.paid,m=e.archived,u=e.description,p=Object(n.useState)({jobid:a,startdate:t,enddate:c,numberofdays:r,totalprice:l,priceperday:i,paid:o,archived:m,description:u}),h=Object(k.a)(p,2),E=h[0];h[1];return s.a.createElement("div",{key:E.jobid,className:"columns has-margin-bottom-20"},s.a.createElement("div",{className:"column is-2"},s.a.createElement("p",{className:"has-text-weight-semibold"},"Start:"),s.a.createElement("p",{className:"has-text-weight-semibold has-text-primary"},E.startdate)),s.a.createElement("div",{className:"column is-2"},s.a.createElement("p",{className:"has-text-weight-semibold"},"End:"),s.a.createElement("p",{className:"has-text-weight-semibold has-text-primary"},E.enddate)),s.a.createElement("div",{className:"column is-1 has-text-weight-semibold"},s.a.createElement("p",null,"Days:"),s.a.createElement("p",null,E.numberofdays)),s.a.createElement("div",{className:"column is-1 has-text-weight-semibold"},s.a.createElement("p",null,"Total:"),s.a.createElement("p",null,E.totalprice," \u20ac")),s.a.createElement("div",{className:"column is-1 has-text-weight-semibold "},s.a.createElement("p",null,"Paid: ")),s.a.createElement("div",{className:"column is-3 has-margin-left-20-desktop"},s.a.createElement("p",{className:"has-text-weight-semibold"},"Comments:"),s.a.createElement("p",null,E.description)),s.a.createElement("div",{className:"columns is-2 has-margin-left-30-desktop has-margin-bottom-60 has-margin-top-20"},s.a.createElement("div",{onClick:function(){var e,a,t;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=Object(Y.a)({},E,{archived:!0}),n.prev=1,a={headers:{"Content-Type":"application/x-www-form-urlencoded"}},t=N.a.stringify(e),n.next=6,d.a.awrap(f.a.put("".concat("https://pet-sitter-app.herokuapp.com","/api/jobs/").concat(E.jobid),t,a));case 6:window.location.reload(),n.next=11;break;case 9:n.prev=9,n.t0=n.catch(1);case 11:case"end":return n.stop()}}),null,null,[[1,9]])},className:"button is-dark has-text-weight-semibold is-fullwidth has-margin-bottom-15"},"Unarchive")))};var ne=function(e){Object(n.useEffect)((function(){l()}),[]);var a=Object(n.useState)(null),t=Object(k.a)(a,2),c=t[0],r=t[1],l=function(){var a,t;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(f.a.get("".concat("https://pet-sitter-app.herokuapp.com","/api/customers/").concat(e.match.params.id)));case 2:a=n.sent,t=a.data,r(t);case 5:case"end":return n.stop()}}))},i=Object(n.useCallback)((function(){return l()}),[]);return c?s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-8 is-offset-2 is-8-mobile is-offset-2-mobile"},s.a.createElement("h3",{className:"is-size-3 has-text-weight-semibold has-text-primary has-text-centered-mobile has-margin-bottom-20"},"CUSTOMER"),s.a.createElement($,{name:c.name,address:c.address,phone:c.phone,priceperday:c.priceperday,id:c._id,forceUpdate:i}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-8 is-offset-2 is-8-mobile is-offset-2-mobile"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement("h3",{className:"is-size-3 has-text-weight-semibold has-text-info has-text-centered-mobile has-margin-bottom-20 has-margin-top-40"},"PETS"))),c.pets&&c.pets.map((function(a){return s.a.createElement(ee,{history:e.history,key:a._id,name:a.name,type:a.type,comments:a.comments,petid:a._id,customerid:c._id})})),s.a.createElement("div",{className:"columns"},s.a.createElement("button",{onClick:function(){return e.history.push("/auth/addpet",{id:c._id})},className:"button is-primary has-text-weight-semibold has-margin-top-40 is-fullwidth"},"Add pet")))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-8 is-offset-2 is-8-mobile is-offset-2-mobile is-paddingless"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement("h3",{className:"is-size-3 has-text-weight-semibold has-text-warning has-text-centered-mobile has-margin-bottom-5 has-margin-top-40"},"JOB"))),c.jobs&&c.jobs.map((function(e){return s.a.createElement(ae,{key:e._id,jobid:e._id,startdate:e.startdate,enddate:e.enddate,numberofdays:e.numberofdays,priceperday:c.priceperday,totalprice:e.totalprice,paid:e.paid,archived:e.archived,description:e.description,customerid:c._id})})),s.a.createElement("button",{onClick:function(){return e.history.push("/auth/addjob/".concat(c._id))},className:"button is-warning has-text-weight-semibold has-margin-top-40 has-margin-top-20-mobile is-fullwidth"},"Add Job"))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-8 is-offset-2 is-full-mobile is-paddingless has-padding-left-5-mobile has-padding-right-5-mobile mobileCalendarHeight has-margin-top-60"},s.a.createElement(T,{id:c._id}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column box is-8 is-offset-2 is-8-mobile is-offset-2-mobile has-margin-top-50 has-margin-bottom-50 has-padding-left-30 has-padding-right-30 has-padding-top-60"},c.jobs&&c.jobs.map((function(e){return s.a.createElement(te,{id:c._id,key:e._id,jobid:e._id,startdate:e.startdate,enddate:e.enddate,numberofdays:e.numberofdays,priceperday:c.priceperday,totalprice:e.totalprice,paid:e.paid,archived:e.archived,description:e.description,customerid:c._id})}))))):s.a.createElement("h1",null,"Loading...")},se=t(99),ce=t(49),re=t(104),le=t(100),ie=t(105),oe=function(e){function a(){return Object(se.a)(this,a),Object(re.a)(this,Object(le.a)(a).apply(this,arguments))}return Object(ie.a)(a,e),Object(ce.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"columns is-centered"},s.a.createElement("div",{className:"column is-half has-text-centered"},s.a.createElement("h2",{className:"is-size-2 has-text-danger has-text-weight-bold\thas-margin-bottom-40"},"OOPS! PAGE NOT FOUND"),s.a.createElement("img",{src:"/images/error.png",width:"70%",alt:""})))}}]),a}(s.a.Component),me=t(42),ue=t.n(me),pe=(t(88),t(33)),de=function(e){Object(n.useEffect)((function(){l()}),[]);var a=Object(n.useState)({startdate:new Date,enddate:new Date,numberofdays:0,priceperday:0,totalprice:0,paid:!1,description:"",customer:""}),t=Object(k.a)(a,2),c=t[0],r=t[1],l=function(){var a,t;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(f.a.get("".concat("https://pet-sitter-app.herokuapp.com","/api/customers/").concat(e.match.params.id)));case 2:a=n.sent,t=a.data,r(Object(Y.a)({},c,{priceperday:t.priceperday,customer:t._id}));case 5:case"end":return n.stop()}}))},i=function(){var e=pe(c.startdate).format("YYYY-MM-DD"),a=pe(c.enddate).format("YYYY-MM-DD");return pe(a).diff(pe(e),"days")+1},o=c.startdate,m=c.enddate,u=c.priceperday,p=c.paid,h=c.description,E=c.customer;return s.a.createElement(R,null,s.a.createElement("div",{className:"box columns is-multiline"},s.a.createElement(ue.a,{className:"column is-full input is-info",selected:c.startdate,onChange:function(e){r(Object(Y.a)({},c,{startdate:e})),console.log(c)},dateFormat:"d MMMM, yyyy",todayButton:"Today"}),s.a.createElement(ue.a,{className:"column is-full has-margin-left-20-desktop has-margin-top-10-mobile input is-info",selected:c.enddate,onChange:function(e){console.log("Date, ",c),r(Object(Y.a)({},c,{enddate:e}))},minDate:c.startdate,dateFormat:"d MMMM, yyyy",todayButton:"Today"}),s.a.createElement("input",{type:"text",name:"description",value:c.description,placeholder:"Add a Comment",onChange:function(e){r(Object(Y.a)({},c,{description:e.target.value}))},className:"column is-full has-margin-top-20"}),s.a.createElement("input",{className:"button is-info has-margin-top-20",onClick:function(){var a,t,n,s,r,l;return d.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:return a=i(),t=a*c.priceperday,n={startdate:pe(o).format("YYYY-MM-DD"),enddate:pe(m).format("YYYY-MM-DD"),numberofdays:a,priceperday:u,totalprice:t,paid:p,description:h,customer:E},console.log(n),g.prev=4,s={headers:{"Content-Type":"application/x-www-form-urlencoded"}},r=N.a.stringify(n),g.next=9,d.a.awrap(f.a.post("".concat("https://pet-sitter-app.herokuapp.com","/api/jobs/").concat(e.match.params.id),r,s));case 9:l=g.sent,console.log(l.data),e.history.push("/auth/customers/".concat(e.match.params.id)),g.next=17;break;case 14:g.prev=14,g.t0=g.catch(4),console.log(g.t0.response.data);case 17:case"end":return g.stop()}}),null,null,[[4,14]])},type:"submit",value:"Create pet sitting"})))},he=t(33),fe=function(e){Object(n.useEffect)((function(){l()}),[]);var a=Object(n.useState)({jobid:"",startdate:new Date,enddate:new Date,numberofdays:0,priceperday:0,totalprice:0,paid:!1,description:"",customer:""}),t=Object(k.a)(a,2),c=t[0],r=t[1],l=function(){var a,t;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(f.a.get("".concat("https://pet-sitter-app.herokuapp.com","/api/jobs/").concat(e.match.params.id)));case 2:a=n.sent,t=a.data,r({jobid:t._id,startdate:new Date(he(t.startdate)),enddate:new Date(he(t.enddate)),numberofdays:t.numberofdays,priceperday:t.customer.priceperday,totalprice:t.totalprice,paid:t.paid,description:t.description,customer:t.customer._id});case 5:case"end":return n.stop()}}))};console.log("formdata ",c);var i=function(){var e=he(c.startdate).format("YYYY-MM-DD"),a=he(c.enddate).format("YYYY-MM-DD");return he(a).diff(he(e),"days")+1},o=c.jobid,m=c.startdate,u=c.enddate,p=c.priceperday,h=c.paid,E=c.description,g=c.customer;return s.a.createElement(R,null,s.a.createElement("div",{className:"box columns is-centered is-multiline"},s.a.createElement(ue.a,{className:"column is-full input is-info",selected:c.startdate,onChange:function(e){r(Object(Y.a)({},c,{startdate:e})),console.log(c)},dateFormat:"d MMMM, yyyy",todayButton:"Today"}),s.a.createElement(ue.a,{className:"column is-full has-margin-left-20 input is-info",selected:c.enddate,onChange:function(e){console.log("Date, ",c),r(Object(Y.a)({},c,{enddate:e}))},minDate:c.startdate,dateFormat:"d MMMM, yyyy",todayButton:"Today"}),s.a.createElement("input",{type:"text",name:"description",value:c.description,placeholder:"Add a Comment",onChange:function(e){r(Object(Y.a)({},c,{description:e.target.value}))},className:"column is-full has-margin-top-20"}),s.a.createElement("input",{className:"button is-info has-margin-top-20",onClick:function(){var a,t,n,s,r,l;return d.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:return a=i(),t=a*c.priceperday,n={startdate:he(m).format("YYYY-MM-DD"),enddate:he(u).format("YYYY-MM-DD"),numberofdays:a,priceperday:p,totalprice:t,paid:h,description:E},console.log(n),b.prev=4,s={headers:{"Content-Type":"application/x-www-form-urlencoded"}},r=N.a.stringify(n),b.next=9,d.a.awrap(f.a.put("".concat("https://pet-sitter-app.herokuapp.com","/api/jobs/").concat(o),r,s));case 9:l=b.sent,console.log(l.data),e.history.push("/auth/customers/".concat(g)),b.next=17;break;case 14:b.prev=14,b.t0=b.catch(4),console.log(b.t0.response.data);case 17:case"end":return b.stop()}}),null,null,[[4,14]])},type:"submit",value:"Update"})))},Ee=function(e){Object(n.useEffect)((function(){l()}),[0]);var a=Object(n.useState)({name:"",address:"",phone:"",priceperday:"",id:""}),t=Object(k.a)(a,2),c=t[0],r=t[1],l=function(){var a,t;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(f.a.get("".concat("https://pet-sitter-app.herokuapp.com","/api/customers/").concat(e.match.params.id)));case 2:a=n.sent,t=a.data,r({name:t.name,address:t.address,phone:t.phone,priceperday:t.priceperday});case 5:case"end":return n.stop()}}))},i=c.name,o=c.address,m=c.phone,u=c.priceperday,p=function(e){return r(Object(Y.a)({},c,Object(M.a)({},e.target.name,e.target.value)))};return s.a.createElement(R,null,s.a.createElement("div",{className:"box columns is-centered"},s.a.createElement("div",{className:"column"},s.a.createElement("h1",{className:"is-size-3"},"Edit Customer"),s.a.createElement("form",{onSubmit:function(a){return function(a){var t,n,s,c;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a.preventDefault(),t={name:i,address:o,phone:m,priceperday:u},r.prev=2,n={headers:{"Content-Type":"application/x-www-form-urlencoded"}},s=N.a.stringify(t),r.next=7,d.a.awrap(f.a.put("".concat("https://pet-sitter-app.herokuapp.com","/api/customers/edit/").concat(e.match.params.id),s,n));case 7:c=r.sent,console.log(c.data._id),e.history.push("/auth/customers/".concat(e.match.params.id)),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(2),console.log(r.t0.response.data);case 15:case"end":return r.stop()}}),null,null,[[2,12]])}(a)}},s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"text",placeholder:"Name",name:"name",value:i,onChange:function(e){return p(e)},required:!0}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-user"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"text",placeholder:"Address",name:"address",value:o,onChange:function(e){return p(e)},required:!0}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-home"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"text",placeholder:"Phone Number",name:"phone",value:m,onChange:function(e){return p(e)}}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-mobile-alt"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"text",placeholder:"Price per day",name:"priceperday",value:u,onChange:function(e){return p(e)}}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-euro-sign"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control"},s.a.createElement("input",{type:"submit",className:"button is-link",value:"Update"})))))))},ge=t(103),be=Object(u.b)((function(e){return{auth:e.auth}}))((function(e){var a=e.component,t=e.auth,n=t.isAuthenticated,c=t.loading,r=Object(ge.a)(e,["component","auth"]);return s.a.createElement(i.b,Object.assign({},r,{render:function(e){return n||c?s.a.createElement(a,e):s.a.createElement(i.a,{to:"/login"})}}))}));localStorage.token&&y(localStorage.token);var ve=function(){return Object(n.useEffect)((function(){Q.dispatch(w())}),[]),s.a.createElement(u.a,{store:Q},s.a.createElement(l.a,null,s.a.createElement(n.Fragment,null,s.a.createElement(j,null),s.a.createElement(i.d,null,s.a.createElement(i.b,{exact:!0,path:"/",component:_}),s.a.createElement(i.b,{exact:!0,path:"/signup",component:U}),s.a.createElement(i.b,{exact:!0,path:"/login",component:P}),s.a.createElement(be,{exact:!0,path:"/auth/overview",component:G}),s.a.createElement(be,{exact:!0,path:"/auth/addcustomer",component:z}),s.a.createElement(be,{exact:!0,path:"/auth/customers/edit/:id",component:Ee}),s.a.createElement(be,{exact:!0,path:"/auth/addpet",component:F}),s.a.createElement(be,{exact:!0,path:"/auth/pet/edit/:id",component:I}),s.a.createElement(be,{exact:!0,path:"/auth/customers",component:Z}),s.a.createElement(be,{exact:!0,path:"/auth/customers/:id",component:ne}),s.a.createElement(be,{exact:!0,path:"/auth/addjob/:id",component:de}),s.a.createElement(be,{exact:!0,path:"/auth/editjob/:id",component:fe}),s.a.createElement(i.b,{path:"*",component:oe})))))};t(196);r.a.render(s.a.createElement(ve,null),document.getElementById("root"))},43:function(e,a,t){}},[[106,1,2]]]);
//# sourceMappingURL=main.01321dd9.chunk.js.map